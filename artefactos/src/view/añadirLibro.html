{% extends 'base.html' %}

{% block content %}

{% if 'user' in request.__dict__ and request.user and request.user.token: %}
{% if request.user.admin == 1 %}
<div>
    <u><h1 style="text-align: center;">Añadir Libros</h1></u>
</div>

<div class="container p-5 my-5 border">
<form class="form-inline text-left" method="POST" onsubmit="return validateForm()">       
    <div class="form-group row">
        <label for="titulo" class="col-sm-2 col-form-label">Título</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="titulo" id="titulo" placeholder="Título">
        </div>
    </div>
    <div class="form-group row">
        <label for="autor" class="col-sm-2 col-form-label">Autor</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="autor" id="autor" placeholder="Autor">
        </div>
    </div>
    <div class="form-group row">
        <label for="cover" class="col-sm-2 col-form-label">Cover</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="cover" id="cover" placeholder="Portada">
        </div>
    </div>
    <div class="form-group row">
        <label for="descripccion" class="col-sm-2 col-form-label">Descripción</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="descripcion" id="descripcion" placeholder="Descripción">
        </div>
    </div>
    
    <div class="text-center">
        <div class="col-sm-10 offset-sm-2">
            <br>
            <br>
            <button type="submit" class="btn btn-primary float-right">Añadir</button>
        </div>
    </div>
</form>
</div>

<script>
function validateForm() {
    var titulo = document.getElementById("titulo").value;
    var autor = document.getElementById("autor").value;
    
    if (titulo === "" || autor === "") {
        alert("Los campos 'Título' y 'Autor' son obligatorios.");
        return false;
    }
}
</script>

{% endif %}
{% else %}
<div style="text-align: center; color: red;">
    <h2>¡No tienes acceso, no eres administrador!</h2>
</div>
{% endif %}

{% endblock %}
